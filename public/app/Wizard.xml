<?xml version="1.0"?>
<app:WizardClass xmlns="http://www.w3.org/1999/xhtml"
                 xmlns:js="js.core" xmlns:ui="js.ui" xmlns:app="app" xmlns:field="js.ui.field" xmlns:view="app.view"
                 xmlns:conf="js.conf" xmlns:data="js.data">


  <js:Injection>
    <js:I18n cid="i18n" locale="en" path="app/locale" loadMomentJs="false"/>
    <js:ErrorProvider i18n="{i18n}"/>
    <data:RestDataSource gateway="/api" cid="api">
      <conf:DataSourceConfiguration>
        <conf:ResourceConfiguration modelClassName="app.model.FirewallConfiguration" path="wizard"/>
      </conf:DataSourceConfiguration>
    </data:RestDataSource>
  </js:Injection>

  <div cid="wizardModal" class="">

    <form class="form span12 form-horizontal">
      <div class="alert alert-error" visible="{not(configuration.isValid())}">
        Validation error.
      </div>
      <ui:SegmentedView cid="segmentedView" visibleIndex="{currentStep}">
        <div>
          <div class="modal-header">
            <h3>{i18n.t('steps.welcome')}</h3>
          </div>
          <view:Welcome class="modal-body" hostname="{{configuration.hostname}}"/>
        </div>
        <div>
          <div class="modal-header">
            <h3>{i18n.t('steps.wan')}</h3>
          </div>
          <view:Wan class="modal-body" wan="{{configuration.wan}}"/>
        </div>
        <div>
          <div class="modal-header">
            <h3>{i18n.t('steps.lan')}</h3>
          </div>
          <view:Lan class="modal-body" lan="{{configuration.lan}}"/>
        </div>
        <div>
          <div class="modal-header">
            <h3>{i18n.t('steps.summary')}</h3>
          </div>
        </div>
      </ui:SegmentedView>

      <div class="modal-footer">
        <ui:Button label="Previous" enabled="{hasPrevious()}" onclick="previous()"/>
        <ui:Button label="{nextButtonLabel()}" onclick="next()" class="btn btn-primary"/>
      </div>
    </form>
  </div>

</app:WizardClass>
